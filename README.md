# OpenSchool

**OpenSchool - бесплатная и открытая образовательная платформа, которая ставит своей целью быть центральным инструментом в процессе обучения на любые темы.**
[Читать подробнее>>](https://grandcore.org/#/ru/openschool)

- [Основной чат проекта](https://t.me/openschool_chat)
- [Чат программистов](https://t.me/CdXoy9PeAjI2NTJh)
- [Чат дизайнеров](https://t.me/2JC3zklOvggxN2Jh)

## Запуск на локальной машине

Для сборки и запуска проекта необходимо установить [docker](https://www.docker.com/https://www.docker.com/get-started) и [docker-compose](https://docs.docker.com/compose/install/). Также необходимо запустить [docker daemon](https://docs.docker.com/config/daemon/), если он не запущен.

### Команды для запуска

После установки  [docker](https://www.docker.com/https://www.docker.com/get-started) и [docker-compose](https://docs.docker.com/compose/install/) можно собрать проект и запустить. Для построения и запуска проекта создан *Makefile*. В корне проекта необходимо ввести следующую последовательность команд:

- `make build` - сборка всей сети контейнеров без последующего поднятия.
- `make up` - поднять сеть и все контейнеры.
- `make logs` - подключиться к выводу логов с каждого контейнера.

### Дополнительные команды

- `make stop` - остановка всех контейнеров
- `make down` - остановка всех контейнеров с последующим удалением
- `make restart` - перезапуск всех контейнеров
- `make destroy` - остановка всех контейнеров с удалением контейнеров и volumes
- `make logs-defaul`t - подключиться к выводу логов с контейнера default
- `make logs-frontend` - подключиться к выводу логов с контейнера frontend
- `make ps` - вывести список и статус работающих контейнеров только из тех, которые определены в *docker-compose.yml*
- `make login-default` - подключиться к терминалу контейнера default
- `make login-frontend` - подключиться к терминалу контейнера frontend

### Проверка работоспособности (на текущий момент)

Если сборка прошла успешно и все контейнеры запущены, то по адресам *`localhost3000`* доступен темплейт на nginx, а по адресу *`localhost:3001`* доступен темплейт на nuxt. Также работоспособность контейнеров можно проверить командой ```make ps```.

### Описание структуры проекта

Все контейнеры находятся в одной сети network:

- network
  - default
  - frontend
  - admin
  - articles
  - auth
  - study
  - users
  - extradata (Не реализовано в MVP).

Переменные среды каждого контейнера находятся в папке *`env_variables`*. Название каждого файла соответствует названию контейнера: *container_name-variables.env*.
В каждой папке сервиса находится `Dockerfile` в котором определены основные настройки каждого контейнера.
